<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>FriendFinder Survey Page</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
	    crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
	    crossorigin="anonymous"></script>

</head>

<body>

	<div class="container">
		<div>
			<h2>Survey Questions</h2>
			<h3>
				<strong>Fill in all fields then submit to proceed! scale 1(strongly dissagree) - 5 (strongly agree)</strong>
			</h3>
			<h4>Whats your Name</h4>
			<input type="text" name="" id="name" class="form-control">

			<h4>Profile picture link</h4>
			<input type="text" name="" id="photo" class="form-control">


			<h3>
				<strong>Question 1</strong>
			</h3>
			<h4>Do you love the beach?</h4>
			<select data-placeholder="" class="chosen-select" id="q1">
				<option value=""></option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
			</select>

			<h3>
				<strong>Question 2</strong>
			</h3>
			<h4>How do you like sports?</h4>
			<select data-placeholder="" class="chosen-select" id="q2">
				<option value=""></option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
			</select>


			<h3>
				<strong>Question 3</strong>
			</h3>
			<h4>Are you an avid concert goer?</h4>
			<select data-placeholder="" class="chosen-select" id="q3">
				<option value=""></option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
			</select>


			<h3>
				<strong>Question 4</strong>
			</h3>
			<h4>You like scary movies?</h4>
			<select data-placeholder="" class="chosen-select" id="q4">
				<option value=""></option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
			</select>


			<h3>
				<strong>Question 5</strong>
			</h3>
			<h4>Do you like to travel?</h4>
			<select data-placeholder="" class="chosen-select" id="q5">
				<option value=""></option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
			</select>


			<h3>
				<strong>Question 6</strong>
			</h3>
			<h4>Do you like tattoo's?</h4>
			<select data-placeholder="" class="chosen-select" id="q6">
				<option value=""></option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
			</select>


			<h3>
				<strong>Question 7</strong>
			</h3>
			<h4>Do you like to read?</h4>
			<select data-placeholder="" class="chosen-select" id="q7">
				<option value=""></option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
			</select>

			<h3>
				<strong>Question 8</strong>
			</h3>
			<h4>Do you like game of thrones?</h4>
			<select data-placeholder="" class="chosen-select" id="q8">
				<option value=""></option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
			</select>

			<h3>
				<strong>Question 9</strong>
			</h3>
			<h4>Are you a liberal?</h4>
			<select data-placeholder="" class="chosen-select" id="q9">
				<option value=""></option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
			</select>

			<h3>
				<strong>Question 10</strong>
			</h3>
			<h4>do you play well with others?</h4>
			<select data-placeholder="" class="chosen-select" id="q10">
				<option value=""></option>
				<option value="1">1</option>
				<option value="2">2</option>
				<option value="3">3</option>
				<option value="4">4</option>
				<option value="5">5</option>
			</select>

			<br>
			<br>
			<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">
				<i class="fa fa-check-circle" aria-hidden="true"></i>
				Submit</button>


		</div>

		<div id="resultsModal" class="modal fade" role="dialog">
			<div class="modal-dialog">

				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h2 class="modal-title">
							<strong>Best Match</strong>
						</h2>
					</div>
					<div class="modal-body">
						<h2 id="matchName"></h2>
						<img id="matchImg" src="https://musicalyetlogical.files.wordpress.com/2012/03/sbsp.jpg" alt="">
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div>
				</div>

			</div>
		</div>


		<script type="text/javascript">
			$(document).ready(function () {
				$("#submit").on("click", function () {
					//form validation
					function validateForm() {
						var isValid = true;
						$('.validate').each(function () {
							if ($(this).val() === '') {
								isValid = false;
							}
						});
						$('.browser-default').each(function () {
							if ($(this).val() === "") {
								isValid = false;
							}
						});
						return isValid;
					}
					//if everything is filled
					if (validateForm() == true) {
						//creates a new friend from the values submitted
						var newFriend = {
							name: $('#name').val().trim(),
							profilePic: $('#photo').val().trim(),
							scores: [
								$('#q1').val(),
								$('#q2').val(),
								$('#q3').val(),
								$('#q4').val(),
								$('#q5').val(),
								$('#q6').val(),
								$('#q7').val(),
								$('#q8').val(),
								$('#q9').val(),
								$('#q10').val(),
							]
						};
						//Grabs current URL of website
						var currentURL = window.location.origin;
						//AJAX posts the data to friends API.
						$.post(currentURL + "/api/friends", newFriend, function (data) {
							//Grab the result from the AJAX post so that the best match's name and photo are displayed.
							$("#matchName").text(data.name);
							$("#matchPic").attr("src", data.profilePic);
						});
						// Show the modal with the best match
						$('.modal').modal();
						//clear form after submission
						$('#name').val("");
						$('#photo').val("");
						$('#q1').val("");
						$('#q2').val("");
						$('#q3').val("");
						$('#q4').val("");
						$('#q5').val("");
						$('#q6').val("");
						$('#q7').val("");
						$('#q8').val("");
						$('#q9').val("");
						$('#q10').val("");
					} else {
						alert("Please fill out ALL fields before submitting survey!")
					}
					// return false;
				});
			});
		</script>
</body>

</html>